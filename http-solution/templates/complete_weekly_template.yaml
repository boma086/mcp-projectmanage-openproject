# å®Œæ•´çš„å‘¨æŠ¥æ¨¡æ¿é…ç½®æ–‡ä»¶
template_info:
  name: "å®Œæ•´å‘¨æŠ¥æ¨¡æ¿"
  type: "weekly"
  description: "åŒ…å«æ‰€æœ‰å…³é”®ä¿¡æ¯çš„å®Œæ•´å‘¨æŠ¥æ ¼å¼"
  created_by: "team_leader"
  version: "2.0"

# æŠ¥å‘Šæ ‡é¢˜æ¨¡æ¿
title_template: "{{project_name}} å‘¨æŠ¥ ({{start_date}} - {{end_date}})"

# æŠ¥å‘Šç« èŠ‚é…ç½®
sections:
  - section_id: "overview"
    section_name: "é¡¹ç›®æ¦‚è§ˆ"
    order: 1
    required: true
    content_template: |
      ## é¡¹ç›®æ¦‚è§ˆ
      
      **é¡¹ç›®åç§°**: {{project_name}}
      **æŠ¥å‘Šå‘¨æœŸ**: {{start_date}} è‡³ {{end_date}}
      **é¡¹ç›®çŠ¶æ€**: {% if completion_rate >= 90 %}å³å°†å®Œæˆ{% elif completion_rate >= 70 %}è¿›å±•è‰¯å¥½{% elif completion_rate >= 50 %}æ­£å¸¸è¿›è¡Œ{% else %}éœ€è¦å…³æ³¨{% endif %}
      **å›¢é˜Ÿæˆå‘˜**: {{team_member_count|default(5)}} äºº
      
      æœ¬å‘¨é¡¹ç›®æ•´ä½“è¿›å±•{% if completion_rate >= 70 %}è‰¯å¥½{% else %}éœ€è¦å…³æ³¨{% endif %}ï¼Œå›¢é˜Ÿåä½œ{% if team_morale == 'è‰¯å¥½' %}é¡ºç•…{% else %}æœ‰å¾…æ”¹å–„{% endif %}ã€‚

  - section_id: "progress"
    section_name: "è¿›åº¦ç»Ÿè®¡"
    order: 2
    required: true
    content_template: |
      ## è¿›åº¦ç»Ÿè®¡
      
      | æŒ‡æ ‡ | æ•°é‡ | ç™¾åˆ†æ¯” |
      |------|------|--------|
      | æ€»å·¥ä½œåŒ… | {{total_work_packages}} | 100% |
      | å·²å®Œæˆ | {{completed_work_packages}} | {{completion_rate}}% |
      | è¿›è¡Œä¸­ | {{in_progress_work_packages}} | {{(in_progress_work_packages / total_work_packages * 100)|round(1) if total_work_packages > 0 else 0}}% |
      | æœ¬å‘¨æ–°å¢ | {{weekly_new_work_packages|default(0)}} | - |
      | æœ¬å‘¨å®Œæˆ | {{weekly_completed_work_packages|default(0)}} | - |

  - section_id: "achievements"
    section_name: "æœ¬å‘¨æˆæœ"
    order: 3
    required: false
    content_template: |
      ## æœ¬å‘¨æˆæœ
      
      ### ä¸»è¦å®Œæˆäº‹é¡¹
      {% if weekly_completed_work_packages > 0 %}
      - æœ¬å‘¨æˆåŠŸå®Œæˆ {{weekly_completed_work_packages}} ä¸ªå·¥ä½œåŒ…
      - é¡¹ç›®æ•´ä½“å®Œæˆç‡è¾¾åˆ° {{completion_rate}}%
      {% else %}
      - æœ¬å‘¨ä¸»è¦ä¸“æ³¨äºç°æœ‰ä»»åŠ¡çš„æ¨è¿›
      - å¤šä¸ªå·¥ä½œåŒ…æ­£åœ¨ç¨³æ­¥è¿›è¡Œä¸­
      {% endif %}
      
      ### é‡è¦é‡Œç¨‹ç¢‘
      {% if completion_rate >= 25 %}
      - âœ… é¡¹ç›®å¯åŠ¨é˜¶æ®µ - å·²å®Œæˆ
      {% endif %}
      {% if completion_rate >= 50 %}
      - âœ… æ ¸å¿ƒåŠŸèƒ½å¼€å‘ - å·²å®Œæˆ
      {% elif completion_rate >= 25 %}
      - ğŸ”„ æ ¸å¿ƒåŠŸèƒ½å¼€å‘ - è¿›è¡Œä¸­
      {% else %}
      - â³ æ ¸å¿ƒåŠŸèƒ½å¼€å‘ - è®¡åˆ’ä¸­
      {% endif %}
      {% if completion_rate >= 75 %}
      - âœ… ç³»ç»Ÿæµ‹è¯• - å·²å®Œæˆ
      {% elif completion_rate >= 50 %}
      - ğŸ”„ ç³»ç»Ÿæµ‹è¯• - è¿›è¡Œä¸­
      {% else %}
      - â³ ç³»ç»Ÿæµ‹è¯• - è®¡åˆ’ä¸­
      {% endif %}

  - section_id: "issues"
    section_name: "é—®é¢˜ä¸é£é™©"
    order: 4
    required: true
    content_template: |
      ## é—®é¢˜ä¸é£é™©
      
      ### å½“å‰é—®é¢˜
      {% if completion_rate < 50 %}
      - **è¿›åº¦é£é™©**: é¡¹ç›®å®Œæˆç‡è¾ƒä½({{completion_rate}}%)ï¼Œéœ€è¦åŠ å¿«æ¨è¿›é€Ÿåº¦
        - å»ºè®®: å¢åŠ èµ„æºæŠ•å…¥æˆ–è°ƒæ•´ä¼˜å…ˆçº§
      {% endif %}
      {% if support_needed %}
      - **èµ„æºéœ€æ±‚**: {{support_needed}}
        - è´Ÿè´£äºº: Team Leader
        - é¢„è®¡è§£å†³æ—¶é—´: ä¸‹å‘¨å†…
      {% endif %}
      
      ### é£é™©æé†’
      {% if completion_rate < 30 %}
      - **é«˜é£é™©**: é¡¹ç›®è¿›åº¦ä¸¥é‡æ»åï¼Œå¯èƒ½å½±å“äº¤ä»˜æ—¶é—´
      {% elif completion_rate < 60 %}
      - **ä¸­é£é™©**: é¡¹ç›®è¿›åº¦ç•¥æœ‰å»¶è¿Ÿï¼Œéœ€è¦å¯†åˆ‡å…³æ³¨
      {% else %}
      - **ä½é£é™©**: é¡¹ç›®è¿›å±•é¡ºåˆ©ï¼Œé£é™©å¯æ§
      {% endif %}

  - section_id: "next_week"
    section_name: "ä¸‹å‘¨è®¡åˆ’"
    order: 5
    required: true
    content_template: |
      ## ä¸‹å‘¨è®¡åˆ’
      
      ### é‡ç‚¹ä»»åŠ¡
      - æ¨è¿› {{planned_new_work_packages|default(2)}} ä¸ªæ–°å·¥ä½œåŒ…
      - å®Œæˆ {{planned_completion_work_packages|default(2)}} ä¸ªè¿›è¡Œä¸­çš„å·¥ä½œåŒ…
      - ç›®æ ‡å®Œæˆç‡: {{target_completion_rate|default(80)}}%
      
      ### é¢„æœŸç›®æ ‡
      - å®Œæˆç‡ç›®æ ‡: {{target_completion_rate|default(80)}}%
      - æ–°å¢å·¥ä½œåŒ…: {{planned_new_work_packages|default(2)}} ä¸ª
      - è®¡åˆ’å®Œæˆ: {{planned_completion_work_packages|default(2)}} ä¸ª

  - section_id: "team_status"
    section_name: "å›¢é˜ŸçŠ¶æ€"
    order: 6
    required: false
    content_template: |
      ## å›¢é˜ŸçŠ¶æ€
      
      ### å·¥ä½œè´Ÿè½½åˆ†æ
      - å›¢é˜Ÿè§„æ¨¡: {{team_member_count|default(5)}} äºº
      - å¹³å‡å·¥ä½œè´Ÿè½½: {{(total_work_packages / team_member_count)|round(1) if team_member_count > 0 else 0}} ä¸ªä»»åŠ¡/äºº
      - è´Ÿè½½çŠ¶æ€: {% if (total_work_packages / team_member_count) > 4 %}è¾ƒé‡{% elif (total_work_packages / team_member_count) > 2 %}é€‚ä¸­{% else %}è¾ƒè½»{% endif %}
      
      ### å›¢é˜ŸåŠ¨æ€
      - å›¢é˜Ÿå£«æ°”: {{team_morale|default('è‰¯å¥½')}}
      - åä½œæ•ˆç‡: {{collaboration_efficiency|default('é«˜')}}
      - éœ€è¦æ”¯æŒ: {{support_needed|default('æš‚æ— ç‰¹æ®Šéœ€æ±‚')}}

  - section_id: "metrics"
    section_name: "å…³é”®æŒ‡æ ‡"
    order: 7
    required: false
    content_template: |
      ## å…³é”®æŒ‡æ ‡
      
      - **é¡¹ç›®å¥åº·åº¦**: {% if completion_rate >= 80 %}ğŸŸ¢ ä¼˜ç§€{% elif completion_rate >= 60 %}ğŸŸ¡ è‰¯å¥½{% elif completion_rate >= 40 %}ğŸŸ  éœ€è¦å…³æ³¨{% else %}ğŸ”´ éœ€è¦æ”¹è¿›{% endif %} ({{completion_rate}}%)
      - **å›¢é˜Ÿæ»¡æ„åº¦**: {% if team_morale == 'å¾ˆå¥½' %}ğŸ˜Š å¾ˆå¥½{% elif team_morale == 'è‰¯å¥½' %}ğŸ˜Š è‰¯å¥½{% elif team_morale == 'ä¸€èˆ¬' %}ğŸ˜ ä¸€èˆ¬{% else %}ğŸ˜Ÿ éœ€è¦å…³æ³¨{% endif %}
      - **åä½œæ•ˆç‡**: {% if collaboration_efficiency == 'å¾ˆé«˜' %}âš¡ å¾ˆé«˜{% elif collaboration_efficiency == 'é«˜' %}âš¡ é«˜{% elif collaboration_efficiency == 'ä¸­ç­‰' %}âš¡ ä¸­ç­‰{% else %}âš¡ éœ€è¦æ”¹è¿›{% endif %}
      - **å®Œæˆç‡è¶‹åŠ¿**: {% if completion_rate >= 70 %}ğŸ“ˆ ä¸Šå‡{% elif completion_rate >= 40 %}ğŸ“Š ç¨³å®š{% else %}ğŸ“‰ éœ€è¦æå‡{% endif %}

  - section_id: "next_focus"
    section_name: "ä¸‹å‘¨å…³æ³¨ç‚¹"
    order: 8
    required: false
    content_template: |
      ## ä¸‹å‘¨å…³æ³¨ç‚¹
      
      {% if completion_rate < 50 %}
      1. **è¿›åº¦æå‡**: é‡ç‚¹å…³æ³¨é¡¹ç›®è¿›åº¦ï¼Œç¡®ä¿æŒ‰æ—¶äº¤ä»˜
      {% endif %}
      {% if support_needed %}
      2. **èµ„æºæ”¯æŒ**: è§£å†³å½“å‰èµ„æºéœ€æ±‚é—®é¢˜
      {% endif %}
      3. **è´¨é‡ä¿è¯**: åœ¨æ¨è¿›è¿›åº¦çš„åŒæ—¶ç¡®ä¿äº¤ä»˜è´¨é‡
      4. **å›¢é˜Ÿåä½œ**: ç»§ç»­ä¿æŒè‰¯å¥½çš„å›¢é˜Ÿåˆä½œæ°›å›´
      
      ---
      
      **æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: {{end_date}}
      **ä¸‹æ¬¡æŠ¥å‘Šæ—¶é—´**: ä¸‹å‘¨åŒä¸€æ—¶é—´
      **æŠ¥å‘Šäºº**: Team Leader

# æ•°æ®æºé…ç½®
data_sources:
  - name: "project_basic"
    description: "é¡¹ç›®åŸºç¡€ä¿¡æ¯"
    fields: ["project_name", "project_id", "start_date", "end_date"]
    
  - name: "work_packages"
    description: "å·¥ä½œåŒ…æ•°æ®"
    fields: ["total_work_packages", "completed_work_packages", "in_progress_work_packages", "completion_rate"]
    
  - name: "weekly_stats"
    description: "å‘¨åº¦ç»Ÿè®¡"
    fields: ["weekly_new_work_packages", "weekly_completed_work_packages"]
    
  - name: "team_info"
    description: "å›¢é˜Ÿä¿¡æ¯"
    fields: ["team_member_count", "team_morale", "collaboration_efficiency"]
    
  - name: "planning"
    description: "è®¡åˆ’ä¿¡æ¯"
    fields: ["planned_new_work_packages", "planned_completion_work_packages", "target_completion_rate", "support_needed"]

# å¯ç¼–è¾‘å­—æ®µé…ç½®
editable_fields:
  - field_name: "team_morale"
    field_type: "select"
    field_label: "å›¢é˜Ÿå£«æ°”"
    options: ["å¾ˆå¥½", "è‰¯å¥½", "ä¸€èˆ¬", "éœ€è¦å…³æ³¨"]
    default_value: "è‰¯å¥½"
    
  - field_name: "collaboration_efficiency"
    field_type: "select"
    field_label: "åä½œæ•ˆç‡"
    options: ["å¾ˆé«˜", "é«˜", "ä¸­ç­‰", "éœ€è¦æ”¹è¿›"]
    default_value: "é«˜"
    
  - field_name: "support_needed"
    field_type: "text"
    field_label: "éœ€è¦çš„æ”¯æŒ"
    placeholder: "è¯·æè¿°å›¢é˜Ÿéœ€è¦çš„æ”¯æŒ..."
    
  - field_name: "target_completion_rate"
    field_type: "number"
    field_label: "ä¸‹å‘¨å®Œæˆç‡ç›®æ ‡(%)"
    min_value: 0
    max_value: 100
    default_value: 80
    
  - field_name: "planned_new_work_packages"
    field_type: "number"
    field_label: "è®¡åˆ’æ–°å¢å·¥ä½œåŒ…æ•°é‡"
    min_value: 0
    max_value: 20
    default_value: 2
    
  - field_name: "planned_completion_work_packages"
    field_type: "number"
    field_label: "è®¡åˆ’å®Œæˆå·¥ä½œåŒ…æ•°é‡"
    min_value: 0
    max_value: 20
    default_value: 2

# æ ·å¼é…ç½®
styling:
  theme: "professional"
  font_family: "Arial, sans-serif"
  primary_color: "#2563eb"
  secondary_color: "#64748b"
  include_charts: true
  include_tables: true
  show_progress_bars: true
